Search.setIndex({"docnames": ["index", "pyawsutils"], "filenames": ["index.rst", "pyawsutils.rst"], "titles": ["pyawsutils documentation", "pyawsutils package"], "terms": {"i": [0, 1], "collect": [0, 1], "interact": [0, 1], "amazon": 0, "web": [0, 1], "servic": [0, 1], "It": [0, 1], "can": [0, 1], "us": [0, 1], "librari": [0, 1], "instanti": [0, 1], "ani": [0, 1], "contain": [0, 1], "class": [0, 1], "support": [0, 1], "kit": [0, 1], "ar": [0, 1], "avr": [0, 1], "iot": [0, 1], "all": [0, 1], "variant": [0, 1], "pic": [0, 1], "avail": [0, 1], "instal": [0, 1], "pip": [0, 1], "from": [0, 1], "pypi": [0, 1], "http": [0, 1], "org": [0, 1], "project": [0, 1], "brows": [0, 1], "sourc": [0, 1], "code": [0, 1], "github": [0, 1], "com": [0, 1], "microchip": [0, 1], "tool": [0, 1], "read": [0, 1], "api": [0, 1], "io": [0, 1], "changelog": [0, 1], "blob": [0, 1], "main": [0, 1], "md": [0, 1], "import": [0, 1], "aws_mar": [0, 1], "polici": 0, "device_cert_fil": [0, 1], "my_devic": [0, 1], "crt": [0, 1], "my_polici": [0, 1], "templatefil": [0, 1], "my_policytempl": [0, 1], "json": [0, 1], "templat": [0, 1], "file": [0, 1], "open": [0, 1], "r": [0, 1], "myfil": [0, 1], "policy_templ": [0, 1], "creat": [0, 1], "aws_policy_tool": [0, 1], "create_polici": [0, 1], "devic": [0, 1], "certif": 0, "without": [0, 1], "ca": 0, "custom": [0, 1], "provis": [0, 1], "aws_mar_tool": [0, 1], "create_devic": [0, 1], "certificate_fil": [0, 1], "policy_nam": [0, 1], "thing_typ": [0, 1], "none": [0, 1], "register_sign": [0, 1], "For": [0, 1], "onli": [0, 1], "signer_ca_key_path": [0, 1], "signer_ca_key_fil": [0, 1], "signer_ca_cert_path": [0, 1], "signer_ca_cert_fil": [0, 1], "signer_ca_ver_cert_path": [0, 1], "signer_ca_ver_cert_fil": [0, 1], "aws_profil": [0, 1], "default": [0, 1], "aws_cloudform": [0, 1], "setup_aws_jitr_account": [0, 1], "setup": [0, 1], "cloudform": 0, "upload": [0, 1], "lambda": 0, "pack": [0, 1], "forc": [0, 1], "force_setup": [0, 1], "accountclean": [0, 1], "clean_tool": [0, 1], "profile_nam": [0, 1], "cleanup": [0, 1], "thi": [0, 1], "packag": 0, "modul": [0, 1], "publish": [0, 1], "messag": [0, 1], "user": [0, 1], "A": [0, 1], "basic": [0, 1], "configur": [0, 1], "see": [0, 1], "best": [0, 1], "result": [0, 1], "more": [0, 1], "thorough": [0, 1], "recommend": [0, 1], "order": [0, 1], "control": [0, 1], "verbos": [0, 1], "output": [0, 1], "depend": [0, 1], "stack": [0, 1], "which": [0, 1], "also": [0, 1], "getlogg": [0, 1], "__name__": [0, 1], "addhandl": [0, 1], "nullhandl": [0, 1], "activate_certif": [0, 1], "combine_everyth": [0, 1], "create_cert_fingerprint": [0, 1], "create_th": [0, 1], "register_certif": [0, 1], "mar_cli_handl": [0, 1], "check_statu": [0, 1], "create_cloudformation_stack": [0, 1], "jitr_cli_handl": [0, 1], "function": 0, "update_lambda_funct": [0, 1], "build_polici": [0, 1], "create_policy_vers": [0, 1], "get_polici": [0, 1], "policy_exist": [0, 1], "create_policy_mar": [0, 1], "policy_cli_handl": [0, 1], "root": 0, "retriev": 0, "aws_get_root_ca_cert": [0, 1], "aws_get_root_ca_cert_filenam": [0, 1], "delete_certif": [0, 1], "delete_polici": [0, 1], "delete_th": [0, 1], "detach_policies_from_certif": [0, 1], "detach_policy_from_certif": [0, 1], "detach_principals_from_th": [0, 1], "fast_cleanup": [0, 1], "clean_cli_handl": [0, 1], "index": 0, "search": 0, "page": 0, "base": 1, "object": 1, "paramet": 1, "str": 1, "profil": 1, "certificate_arn": 1, "activ": 1, "arn": 1, "thing_nam": 1, "attach": 1, "thing": 1, "name": 1, "where": 1, "should": 1, "resourc": 1, "fingerprint": 1, "pem": 1, "format": 1, "return": 1, "sha256": 1, "der": 1, "encod": 1, "ascii": 1, "hex": 1, "string": 1, "40": 1, "lower": 1, "case": 1, "charact": 1, "type": 1, "zt_polici": 1, "thing_name_sourc": 1, "ski": 1, "includ": 1, "path": 1, "option": 1, "what": 1, "subject": 1, "kei": 1, "identifi": 1, "scn": 1, "common": 1, "assign": 1, "Will": 1, "doe": 1, "exist": 1, "statu": 1, "set": 1, "e": 1, "g": 1, "inact": 1, "arg": 1, "entri": 1, "point": 1, "command": 1, "cli": 1, "method": 1, "cf_client": 1, "stack_nam": 1, "check": 1, "boto3": 1, "client": 1, "cloud": 1, "create_complet": 1, "in_progress": 1, "stack_delet": 1, "pc_template_fil": 1, "stacknam": 1, "zipnam": 1, "fals": 1, "updat": 1, "zip": 1, "deploy": 1, "boolean": 1, "creation": 1, "again": 1, "alreadi": 1, "aws_lambda": 1, "zip_fil": 1, "full": 1, "helper": 1, "gener": 1, "build": 1, "document": 1, "substitut": 1, "account_id": 1, "region": 1, "id": 1, "placehold": 1, "make_default": 1, "true": 1, "new": 1, "version": 1, "he": 1, "otherwis": 1, "get": 1, "action": 1, "bundl": 1, "The": 1, "aws_ca_bundl": 1, "cert": 1, "tl": 1, "server": 1, "authent": 1, "individu": 1, "separ": 1, "aws_ca_cert": 1, "param": 1, "filenam": 1, "absolut": 1, "pathnam": 1, "enabl": 1, "verif": 1, "cleaner": 1, "delet": 1, "bulk_delete_s": 1, "20": 1, "current": 1, "cannot": 1, "ha": 1, "its": 1, "int": 1, "bulk": 1, "size": 1, "deleta": 1, "certificatearn": 1, "bulk_detach_s": 1, "detach": 1, "policynam": 1, "thingnam": 1, "specifi": 1, "princip": 1}, "objects": {"": [[1, 0, 0, "-", "pyawsutils"]], "pyawsutils": [[1, 0, 0, "-", "aws_ca_cert"], [1, 0, 0, "-", "aws_cloudformation"], [1, 0, 0, "-", "aws_lambda"], [1, 0, 0, "-", "clean"], [1, 0, 0, "-", "mar"], [1, 0, 0, "-", "policy"], [1, 0, 0, "-", "register_signer"]], "pyawsutils.aws_ca_cert": [[1, 1, 1, "", "aws_get_root_ca_cert"], [1, 1, 1, "", "aws_get_root_ca_cert_filename"]], "pyawsutils.aws_cloudformation": [[1, 1, 1, "", "check_status"], [1, 1, 1, "", "create_cloudformation_stack"], [1, 1, 1, "", "jitr_cli_handler"], [1, 1, 1, "", "setup_aws_jitr_account"]], "pyawsutils.aws_lambda": [[1, 1, 1, "", "update_lambda_function"]], "pyawsutils.clean": [[1, 2, 1, "", "AccountCleaner"], [1, 1, 1, "", "clean_cli_handler"]], "pyawsutils.clean.AccountCleaner": [[1, 3, 1, "", "cleanup"], [1, 3, 1, "", "delete_certificates"], [1, 3, 1, "", "delete_policies"], [1, 3, 1, "", "delete_things"], [1, 3, 1, "", "detach_policies_from_certificate"], [1, 3, 1, "", "detach_policy_from_certificates"], [1, 3, 1, "", "detach_principals_from_thing"], [1, 3, 1, "", "fast_cleanup"]], "pyawsutils.mar": [[1, 2, 1, "", "aws_mar"], [1, 1, 1, "", "mar_cli_handler"]], "pyawsutils.mar.aws_mar": [[1, 3, 1, "", "activate_certificate"], [1, 3, 1, "", "combine_everything"], [1, 3, 1, "", "create_cert_fingerprint"], [1, 3, 1, "", "create_device"], [1, 3, 1, "", "create_thing"], [1, 3, 1, "", "register_certificate"]], "pyawsutils.policy": [[1, 2, 1, "", "Policy"], [1, 1, 1, "", "create_policy_mar"], [1, 1, 1, "", "policy_cli_handler"]], "pyawsutils.policy.Policy": [[1, 3, 1, "", "build_policy"], [1, 3, 1, "", "create_policy"], [1, 3, 1, "", "create_policy_version"], [1, 3, 1, "", "get_policy"], [1, 3, 1, "", "policy_exists"]], "pyawsutils.register_signer": [[1, 1, 1, "", "register_signer"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"]}, "titleterms": {"pyawsutil": [0, 1], "document": 0, "python": [0, 1], "aw": [0, 1], "util": [0, 1], "overview": [0, 1], "usag": [0, 1], "exampl": [0, 1], "1": [0, 1], "multi": [0, 1], "account": [0, 1], "registr": [0, 1], "mar": [0, 1], "2": [0, 1], "regist": [0, 1], "signer": [0, 1], "3": [0, 1], "just": [0, 1], "time": [0, 1], "jitr": [0, 1], "4": [0, 1], "clean": [0, 1], "log": [0, 1], "content": 0, "indic": 0, "tabl": 0, "packag": 1, "cloudform": 1, "lambda": 1, "function": 1, "polici": 1, "amazon": 1, "root": 1, "ca": 1, "certif": 1, "retriev": 1}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"pyawsutils documentation": [[0, "pyawsutils-documentation"]], "pyawsutils - Python AWS utilities": [[0, "pyawsutils-python-aws-utilities"], [1, "pyawsutils-python-aws-utilities"]], "Overview": [[0, "overview"], [1, "overview"]], "Usage example 1: Multi-Account Registration (MAR)": [[0, "usage-example-1-multi-account-registration-mar"], [1, "usage-example-1-multi-account-registration-mar"]], "Usage example 2: Register Signer": [[0, "usage-example-2-register-signer"], [1, "usage-example-2-register-signer"]], "Usage example 3: Just-in-Time Registration (JITR)": [[0, "usage-example-3-just-in-time-registration-jitr"], [1, "usage-example-3-just-in-time-registration-jitr"]], "Usage example 4: Clean account": [[0, "usage-example-4-clean-account"], [1, "usage-example-4-clean-account"]], "Logging": [[0, "logging"], [1, "logging"]], "Contents:": [[0, null]], "Indices and tables": [[0, "indices-and-tables"]], "pyawsutils package": [[1, "pyawsutils-package"]], "Multi-Account Registration": [[1, "module-pyawsutils.mar"]], "AWS CloudFormation": [[1, "module-pyawsutils.aws_cloudformation"]], "Lambda functions": [[1, "module-pyawsutils.aws_lambda"]], "Policy functions": [[1, "module-pyawsutils.policy"]], "Amazon root CA certificate retrieval": [[1, "module-pyawsutils.aws_ca_cert"]], "Signer registration": [[1, "module-pyawsutils.register_signer"]], "Account cleaning": [[1, "module-pyawsutils.clean"]], "pyawsutils": [[1, "module-pyawsutils"]]}, "indexentries": {"accountcleaner (class in pyawsutils.clean)": [[1, "pyawsutils.clean.AccountCleaner"]], "policy (class in pyawsutils.policy)": [[1, "pyawsutils.policy.Policy"]], "activate_certificate() (pyawsutils.mar.aws_mar method)": [[1, "pyawsutils.mar.aws_mar.activate_certificate"]], "aws_get_root_ca_cert() (in module pyawsutils.aws_ca_cert)": [[1, "pyawsutils.aws_ca_cert.aws_get_root_ca_cert"]], "aws_get_root_ca_cert_filename() (in module pyawsutils.aws_ca_cert)": [[1, "pyawsutils.aws_ca_cert.aws_get_root_ca_cert_filename"]], "aws_mar (class in pyawsutils.mar)": [[1, "pyawsutils.mar.aws_mar"]], "build_policy() (pyawsutils.policy.policy method)": [[1, "pyawsutils.policy.Policy.build_policy"]], "check_status() (in module pyawsutils.aws_cloudformation)": [[1, "pyawsutils.aws_cloudformation.check_status"]], "clean_cli_handler() (in module pyawsutils.clean)": [[1, "pyawsutils.clean.clean_cli_handler"]], "cleanup() (pyawsutils.clean.accountcleaner method)": [[1, "pyawsutils.clean.AccountCleaner.cleanup"]], "combine_everything() (pyawsutils.mar.aws_mar method)": [[1, "pyawsutils.mar.aws_mar.combine_everything"]], "create_cert_fingerprint() (pyawsutils.mar.aws_mar method)": [[1, "pyawsutils.mar.aws_mar.create_cert_fingerprint"]], "create_cloudformation_stack() (in module pyawsutils.aws_cloudformation)": [[1, "pyawsutils.aws_cloudformation.create_cloudformation_stack"]], "create_device() (pyawsutils.mar.aws_mar method)": [[1, "pyawsutils.mar.aws_mar.create_device"]], "create_policy() (pyawsutils.policy.policy method)": [[1, "pyawsutils.policy.Policy.create_policy"]], "create_policy_mar() (in module pyawsutils.policy)": [[1, "pyawsutils.policy.create_policy_mar"]], "create_policy_version() (pyawsutils.policy.policy method)": [[1, "pyawsutils.policy.Policy.create_policy_version"]], "create_thing() (pyawsutils.mar.aws_mar method)": [[1, "pyawsutils.mar.aws_mar.create_thing"]], "delete_certificates() (pyawsutils.clean.accountcleaner method)": [[1, "pyawsutils.clean.AccountCleaner.delete_certificates"]], "delete_policies() (pyawsutils.clean.accountcleaner method)": [[1, "pyawsutils.clean.AccountCleaner.delete_policies"]], "delete_things() (pyawsutils.clean.accountcleaner method)": [[1, "pyawsutils.clean.AccountCleaner.delete_things"]], "detach_policies_from_certificate() (pyawsutils.clean.accountcleaner method)": [[1, "pyawsutils.clean.AccountCleaner.detach_policies_from_certificate"]], "detach_policy_from_certificates() (pyawsutils.clean.accountcleaner method)": [[1, "pyawsutils.clean.AccountCleaner.detach_policy_from_certificates"]], "detach_principals_from_thing() (pyawsutils.clean.accountcleaner method)": [[1, "pyawsutils.clean.AccountCleaner.detach_principals_from_thing"]], "fast_cleanup() (pyawsutils.clean.accountcleaner method)": [[1, "pyawsutils.clean.AccountCleaner.fast_cleanup"]], "get_policy() (pyawsutils.policy.policy method)": [[1, "pyawsutils.policy.Policy.get_policy"]], "jitr_cli_handler() (in module pyawsutils.aws_cloudformation)": [[1, "pyawsutils.aws_cloudformation.jitr_cli_handler"]], "mar_cli_handler() (in module pyawsutils.mar)": [[1, "pyawsutils.mar.mar_cli_handler"]], "module": [[1, "module-pyawsutils"], [1, "module-pyawsutils.aws_ca_cert"], [1, "module-pyawsutils.aws_cloudformation"], [1, "module-pyawsutils.aws_lambda"], [1, "module-pyawsutils.clean"], [1, "module-pyawsutils.mar"], [1, "module-pyawsutils.policy"], [1, "module-pyawsutils.register_signer"]], "policy_cli_handler() (in module pyawsutils.policy)": [[1, "pyawsutils.policy.policy_cli_handler"]], "policy_exists() (pyawsutils.policy.policy method)": [[1, "pyawsutils.policy.Policy.policy_exists"]], "pyawsutils": [[1, "module-pyawsutils"]], "pyawsutils.aws_ca_cert": [[1, "module-pyawsutils.aws_ca_cert"]], "pyawsutils.aws_cloudformation": [[1, "module-pyawsutils.aws_cloudformation"]], "pyawsutils.aws_lambda": [[1, "module-pyawsutils.aws_lambda"]], "pyawsutils.clean": [[1, "module-pyawsutils.clean"]], "pyawsutils.mar": [[1, "module-pyawsutils.mar"]], "pyawsutils.policy": [[1, "module-pyawsutils.policy"]], "pyawsutils.register_signer": [[1, "module-pyawsutils.register_signer"]], "register_certificate() (pyawsutils.mar.aws_mar method)": [[1, "pyawsutils.mar.aws_mar.register_certificate"]], "register_signer() (in module pyawsutils.register_signer)": [[1, "pyawsutils.register_signer.register_signer"]], "setup_aws_jitr_account() (in module pyawsutils.aws_cloudformation)": [[1, "pyawsutils.aws_cloudformation.setup_aws_jitr_account"]], "update_lambda_function() (in module pyawsutils.aws_lambda)": [[1, "pyawsutils.aws_lambda.update_lambda_function"]]}})